
@model WatermentWebSCADA.ViewModels.MainViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
    <style>
        .intro {
            background-color: rgb(229, 217, 148);
            color: black;
            /*margin: 20px 0 20px 0;*/
            margin-right:20px;
            margin-bottom:10px;
            padding: 20px;
            border-radius: 5px;
            height: 375px;
            margin-top:10px;
            width:383px;
            /*overflow-y:scroll;*/
             /*overflow-y:scroll;
             overflow-y:auto;*/
        }
        .frame2{
                 margin-right:20px;
            margin-bottom:10px;
            margin-left:20px;
              padding: 10px;
            border-radius: 5px;
        }
    </style>
    <style>
        .intro2 {
                background-color: rgb(229, 217, 148);
            color: black;
            /*margin: 20px 0 20px 0;*/
            margin-right:20px;
             margin-top:10px;
             margin-bottom:10px;
            margin-left:30px;
            padding: 20px;
            border-radius: 5px;
            height: 375px;
            width:700px;
            overflow-y:scroll;
            overflow-y:auto;
            
            
               position: relative;
        }

        .dropbtn {
    background-color: #4CAF50;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;}
    #style-1::-webkit-scrollbar-track
{
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	border-radius: 10px;
	background-color: #F5F5F5;
}

#style-1::-webkit-scrollbar
{
	width: 12px;
	background-color: rgb(171,194,122);
}

#style-1::-webkit-scrollbar-thumb
{
	border-radius: 10px;
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
	background-color: rgb(171,194,122);

}


.dropdown {
    position: relative;
    display: inline-block;
}
table {
    border-collapse: collapse;
    width: 100%;
}

th {
    padding: 1px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}
td {
    padding: 1px;
    text-align: left;
    /*border-bottom: 1px solid #ddd;*/
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: rgb(171,194,122);
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none; 
    display: block;
}

.dropdown-content a:hover {background-color: rgb(229, 217, 148)}

.dropdown:hover .dropdown-content {
    display: block;
}
.button {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    width :50px;
    height:50px;
}


    </style>
</head>




<head>
    <meta name="viewport" content="width=device-width" />
    <script type="text/javascript" src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>

</head>


    <div class="container">

        <div class="col-sm-4">
            <div class="intro" id="style-1">
                <h4><b>Biogas Facility</b></h4>

                <table>
                    <tr>
                        <td class="title"><b>Facility</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Facilites)
                            {
                                @item.Name

                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>Country</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Countries)
                            {
                                @item.Name
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>County </b> </td>
                        <td class="text">
                            @foreach (var item in Model.Lokasjoner)
                            {
                                @item.County
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b> Postcode</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Lokasjoner)
                            {
                                @item.Postcode
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>Address</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Lokasjoner)
                            {
                                @item.StreetAddress
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>User</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Brukere)
                            {
                                @item.FirstName  @item.LastName
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>Phone number</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Brukere)
                            {
                                @item.PhoneNumber
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b> E-mail</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Brukere)
                            {
                                @item.Email
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>Domain</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Facilites)
                            {
                                @item.Domain
                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>IP</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Facilites)
                            {
                                @item.IP

                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>Serial No.</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Facilites)
                            {
                                @item.SerialNumber

                            }
                        </td>
                    </tr>
                    <tr>
                        <td class="title"><b>Software Version</b> </td>
                        <td class="text">
                            @foreach (var item in Model.Facilites)
                            {
                                @item.ProgramVersion

                            }
                        </td>
                    </tr>


                    <tr>
                        <td>
                        @foreach (var item in Model.Facilites)
                        {

                            <button class="btn btn-warning" style="width:150px; margin-top:10px" onclick="location.href='@Url.Action("EditFacilities", new { id = item.Id })';return false;">Edit details</button>


                        }

</td>
                        <td>
                            @foreach (var item in Model.Facilites)
                            {



                                <button class="btn btn-warning" style="width:150px; margin-top:10px" onclick="location.href='@Url.Action("index","Equipment", new { id = item.Id })';return false;">Manage Equipment</button>

                            }
                        </td>
                    </tr>
                </table>
            </div>
        </div>




        <div class="col-sm-8">
            <div class="intro2"id="style-1">
                <h4><b>Alarms</b></h4>
             
                   <div class="row">
                         <table>
                    <tr>
                        <th>Description</th>
                        <th>Date</th>
                        <th>Value</th>
                        <th>Status</th>
                        <th>Tag</th>
                    </tr>
                  
                    @foreach (var item in Model.Alarmer)
                    {

                      
                            <tr>
                                <td>@item.Description</td>
                                <td>@item.AlarmOccured</td>
                                <td>@item.ProcessValue</td>
                                <td>@item.Status</td>
                                <td>@item.equipments.Tag</td>
                               
                            </tr>
                          }
                        
                </table>

                </div>

                



            </div>

        </div>
        <p></p>
        &emsp;
        @foreach (var skill in Model.Facilites)
        {
            <a href="http://@skill.IP/webvisu/webvisu.htm" target="_blank" class="btn btn-success">Remote Connect &raquo;</a>
        }

       
            <div class="dropdown">
                <button class="btn btn-success">Export to Excel</button>
                <div class="dropdown-content">
                    @foreach (var item in Model.Facilites)
            {
                        <b>  @Html.ActionLink("Export Temp Measurements to Excel", "ExportTempMeasurementsToExcel", "Export", new { id = item.Id }, null)</b>
                    }
                    @foreach (var item in Model.Facilites)
            {
                        <b>  @Html.ActionLink("Export Alarms to Excel", "ExportAlarmsToExcel", "Export", new { id = item.Id }, null)</b>
                    }
                    @foreach (var item in Model.Facilites)
            {
                        <b>  @Html.ActionLink("Export Bar Measurements to Excel", "ExportBarMeasurementsToExcel", "Export", new { id = item.Id }, null)</b>
                    }
                    
                </div>
            </div>
        </div>

<div class="frame2">
    @foreach (var item in Model.Facilites)
    {
        <p><img src="@Url.Action("EfficiencyChart",new { id = item.Id})" /></p>
       
    }

</div>


<div class="frame2">
    @foreach (var item in Model.Facilites)
    {
        <p><img src="@Url.Action("EfficiencyChart",new { id = item.Id})" /></p>

    }

</div>





















